!function(e){!function(t){"interactive"===e.readyState||"complete"===e.readyState?t():e.addEventListener("DOMContentLoaded",t)}(function(){function t(){return[].reduce.call(a,function(e,t){return e[t.name]=t.value,e},{})}function n(){const n=new XMLHttpRequest;n.onload=function(){if(200===n.status){r.classList.add("t-display-none"),l.innerHTML="Welcome "+JSON.parse(n.response).firstname,l.classList.remove("t-display-none");const t=new Date;t.setTime(t.getTime()+604800),e.cookie="firstname=".concat(JSON.parse(n.response).firstname).concat(";expires=").concat(t.toUTCString())}else i.innerHTML="Something is wrong with the server",i.style.display="inline-block"},n.onerror=function(){i.innerHTML="Something is wrong with the server",i.style.display="inline-block"},n.open("GET","http://localhost:8000/create_account"),n.send(t())}const a=e.querySelectorAll(".coves-form__input"),i=e.getElementById("signup__error-box"),r=e.getElementById("signup-form"),l=e.getElementById("greeting"),o=function(){return e.cookie.split("; ").reduce(function(e,t){const n=t.indexOf("=");return e[t.slice(0,n)]=t.slice(n+1),e},{})}();o.firstname?l.innerHTML="Welcome ".concat(o.firstname):(l.classList.add("t-display-none"),r.classList.remove("t-display-none")),validator.addValidation("#username",["blur"],function(e){return!validator.isEmpty(e.value)&&!validator.isBetween(e.value.length,6,20)},"Length not between 6 and 20"),validator.addOK("#username",["blur"],function(e){return validator.isBetween(e.value.length,6,20)}),validator.addValidation("input[id$=-name]",["blur"],function(e){return!validator.isEmpty(e.value)&&validator.isLength(e.value,2)},"Minimum length 3"),validator.addOK("input[id$=-name]",["blur"],function(e){return validator.isOfLength(e.value,3)}),validator.addValidation("#email",["blur"],function(e){return!validator.isEmpty(e.value)&&!validator.isEmailAddress(e.value)},"Not a valid email"),validator.addOK("#email",["blur"],function(e){return validator.isEmailAddress(e.value)}),validator.addValidation("#birth",["blur"],function(e){return!validator.isEmpty(e.value)&&!validator.isDate(e.value)},"Not a valid date"),validator.addOK("#birth",["blur"],function(e){return validator.isDate(e.value)}),[].forEach.call(e.querySelectorAll("#pass"),function(t){const n=e.querySelector("#pass-repeat");["keyup","blur"].forEach(function(e){t.addEventListener(e,function(){validator.isLength(t.value,5)?(t.nextElementSibling.innerHTML="Minimum length 6",t.setCustomValidity("Minimum length 6")):(t.setCustomValidity(""),t.value!==n.value?(n.nextElementSibling.innerHTML="Passwords must match",n.setCustomValidity("Passwords must match")):n.setCustomValidity(""))})})}),validator.addOK("#pass",["keyup","blur"],function(e){return validator.isOfLength(e.value,6)}),validator.addOK("#pass-repeat",["keyup","blur"],function(t){return t.value===e.querySelector("#pass").value}),validator.addValidation("#pass-repeat",["keyup","blur"],function(t){return t.value!==e.querySelector("#pass").value},"Passwords must match"),r.addEventListener("submit",function(t){t.preventDefault();const a=e.querySelectorAll(".coves-form__input--required"),l=[].some.call(a,function(e){return validator.isEmpty(e.value)});!r.checkValidity()||l?l?(i.innerHTML="All inputs are required",i.style.display="inline-block"):i.style.display="none":n()})})}(document);